{"ast":null,"code":"import _toConsumableArray from \"/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_input_number = _resolveComponent(\"el-input-number\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  var _component_el_tabs = _resolveComponent(\"el-tabs\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_tabs, {\n    modelValue: $setup.activeTab,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.activeTab = $event;\n    })\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_tab_pane, {\n        label: \"推送配置\",\n        name: \"config\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form, {\n            model: $setup.config,\n            \"label-width\": \"120px\",\n            style: {\n              \"max-width\": \"500px\"\n            }\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_form_item, {\n                label: \"邮箱地址\"\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_input, {\n                    modelValue: $setup.config.email,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n                      return $setup.config.email = $event;\n                    })\n                  }, null, 8 /* PROPS */, [\"modelValue\"])];\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_form_item, {\n                label: \"推送时间\"\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_input_number, {\n                    modelValue: $setup.hour,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n                      return $setup.hour = $event;\n                    }),\n                    min: 0,\n                    max: 23\n                  }, null, 8 /* PROPS */, [\"modelValue\"]), _cache[3] || (_cache[3] = _createElementVNode(\"span\", {\n                    style: {\n                      \"margin-left\": \"10px\"\n                    }\n                  }, \"点（24小时制）\", -1 /* CACHED */))];\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_form_item, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_button, {\n                    type: \"primary\",\n                    onClick: $setup.saveConfig\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _toConsumableArray(_cache[4] || (_cache[4] = [_createTextVNode(\"保存配置\", -1 /* CACHED */)]));\n                    }),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"onClick\"])];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"model\"])];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_el_tabs","$setup","activeTab","$event","_component_el_tab_pane","label","name","_component_el_form","model","config","style","_component_el_form_item","_component_el_input","email","_component_el_input_number","hour","min","max","_createElementVNode","_component_el_button","type","onClick","saveConfig","_toConsumableArray","_cache"],"sources":["/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/src/views/PushConfig.vue"],"sourcesContent":["<template>\n  <div>\n    <el-tabs v-model=\"activeTab\">\n      <el-tab-pane label=\"推送配置\" name=\"config\">\n        <el-form :model=\"config\" label-width=\"120px\" style=\"max-width: 500px\">\n          <el-form-item label=\"邮箱地址\">\n            <el-input v-model=\"config.email\" />\n          </el-form-item>\n          <el-form-item label=\"推送时间\">\n            <el-input-number v-model=\"hour\" :min=\"0\" :max=\"23\" />\n            <span style=\"margin-left: 10px\">点（24小时制）</span>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveConfig\">保存配置</el-button>\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { getPushConfig, updatePushConfig } from '../api'\n\nexport default {\n  name: 'PushConfig',\n  setup() {\n    const config = ref({ email: '', push_time: '' })\n    const hour = ref(17)\n    const activeTab = ref('config')\n\n    const loadConfig = async () => {\n      try {\n        const res = await getPushConfig()\n        config.value = res.data\n        if (res.data.push_time) {\n          hour.value = parseInt(res.data.push_time)\n        }\n      } catch (error) {\n        console.error('加载失败:', error)\n        const message = error.response?.data?.error || error.message || '加载失败'\n        ElMessage.error(message)\n      }\n    }\n\n    const saveConfig = async () => {\n      if (!config.value.email) {\n        ElMessage.warning('请输入邮箱地址')\n        return\n      }\n      try {\n        await updatePushConfig({ email: config.value.email, push_time: hour.value.toString() })\n        ElMessage.success('保存成功')\n      } catch (error) {\n        console.error('保存失败:', error)\n        const message = error.response?.data?.error || error.message || '保存失败'\n        ElMessage.error(message)\n      }\n    }\n\n    onMounted(() => {\n      loadConfig()\n    })\n\n    return {\n      config,\n      hour,\n      activeTab,\n      saveConfig\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;uBACEA,mBAAA,CAiBM,cAhBJC,YAAA,CAeUC,kBAAA;gBAfQC,MAAA,CAAAC,SAAS;;aAATD,MAAA,CAAAC,SAAS,GAAAC,MAAA;IAAA;;wBACzB;MAAA,OAac,CAbdJ,YAAA,CAacK,sBAAA;QAbDC,KAAK,EAAC,MAAM;QAACC,IAAI,EAAC;;4BAC7B;UAAA,OAWU,CAXVP,YAAA,CAWUQ,kBAAA;YAXAC,KAAK,EAAEP,MAAA,CAAAQ,MAAM;YAAE,aAAW,EAAC,OAAO;YAACC,KAAwB,EAAxB;cAAA;YAAA;;gCAC3C;cAAA,OAEe,CAFfX,YAAA,CAEeY,uBAAA;gBAFDN,KAAK,EAAC;cAAM;oCACxB;kBAAA,OAAmC,CAAnCN,YAAA,CAAmCa,mBAAA;gCAAhBX,MAAA,CAAAQ,MAAM,CAACI,KAAK;;6BAAZZ,MAAA,CAAAQ,MAAM,CAACI,KAAK,GAAAV,MAAA;oBAAA;;;;kBAEjCJ,YAAA,CAGeY,uBAAA;gBAHDN,KAAK,EAAC;cAAM;oCACxB;kBAAA,OAAqD,CAArDN,YAAA,CAAqDe,0BAAA;gCAA3Bb,MAAA,CAAAc,IAAI;;6BAAJd,MAAA,CAAAc,IAAI,GAAAZ,MAAA;oBAAA;oBAAGa,GAAG,EAAE,CAAC;oBAAGC,GAAG,EAAE;qFAC/CC,mBAAA,CAA+C;oBAAzCR,KAAyB,EAAzB;sBAAA;oBAAA;kBAAyB,GAAC,UAAQ,oB;;;kBAE1CX,YAAA,CAEeY,uBAAA;oCADb;kBAAA,OAA8D,CAA9DZ,YAAA,CAA8DoB,oBAAA;oBAAnDC,IAAI,EAAC,SAAS;oBAAEC,OAAK,EAAEpB,MAAA,CAAAqB;;wCAAY;sBAAA,OAAAC,kBAAA,CAAIC,MAAA,QAAAA,MAAA,O,iBAAJ,MAAI,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}