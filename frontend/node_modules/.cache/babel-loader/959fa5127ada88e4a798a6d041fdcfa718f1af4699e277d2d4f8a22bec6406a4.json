{"ast":null,"code":"import _regenerator from \"/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport { ref, onMounted } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { getKeywords, createKeyword, deleteKeyword as deleteKeywordApi } from '../api';\nexport default {\n  name: 'Keywords',\n  setup: function setup() {\n    var keywords = ref([]);\n    var newKeyword = ref('');\n    var activeTab = ref('keywords');\n    var loadKeywords = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var res, _error$response, message, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              _context.p = 0;\n              _context.n = 1;\n              return getKeywords();\n            case 1:\n              res = _context.v;\n              keywords.value = res.data;\n              _context.n = 3;\n              break;\n            case 2:\n              _context.p = 2;\n              _t = _context.v;\n              console.error('加载失败:', _t);\n              message = ((_error$response = _t.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.error) || _t.message || '加载失败';\n              ElMessage.error(message);\n            case 3:\n              return _context.a(2);\n          }\n        }, _callee, null, [[0, 2]]);\n      }));\n      return function loadKeywords() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var addKeyword = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              if (newKeyword.value.trim()) {\n                _context2.n = 1;\n                break;\n              }\n              ElMessage.warning('请输入关键字');\n              return _context2.a(2);\n            case 1:\n              _context2.p = 1;\n              _context2.n = 2;\n              return createKeyword({\n                keyword: newKeyword.value\n              });\n            case 2:\n              ElMessage.success('添加成功');\n              newKeyword.value = '';\n              loadKeywords();\n              _context2.n = 4;\n              break;\n            case 3:\n              _context2.p = 3;\n              _t2 = _context2.v;\n              ElMessage.error('添加失败');\n            case 4:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[1, 3]]);\n      }));\n      return function addKeyword() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var deleteKeyword = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(id) {\n        var _t3;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.p = _context3.n) {\n            case 0:\n              _context3.p = 0;\n              _context3.n = 1;\n              return deleteKeywordApi(id);\n            case 1:\n              ElMessage.success('删除成功');\n              loadKeywords();\n              _context3.n = 3;\n              break;\n            case 2:\n              _context3.p = 2;\n              _t3 = _context3.v;\n              ElMessage.error('删除失败');\n            case 3:\n              return _context3.a(2);\n          }\n        }, _callee3, null, [[0, 2]]);\n      }));\n      return function deleteKeyword(_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    onMounted(function () {\n      loadKeywords();\n    });\n    return {\n      keywords: keywords,\n      newKeyword: newKeyword,\n      activeTab: activeTab,\n      addKeyword: addKeyword,\n      deleteKeyword: deleteKeyword\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","ElMessage","getKeywords","createKeyword","deleteKeyword","deleteKeywordApi","name","setup","keywords","newKeyword","activeTab","loadKeywords","_ref","_asyncToGenerator","_regenerator","m","_callee","res","_error$response","message","_t","w","_context","p","n","v","value","data","console","error","response","a","apply","arguments","addKeyword","_ref2","_callee2","_t2","_context2","trim","warning","keyword","success","_ref3","_callee3","id","_t3","_context3","_x"],"sources":["/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/src/views/Keywords.vue"],"sourcesContent":["<template>\n  <div>\n    <el-tabs v-model=\"activeTab\">\n      <el-tab-pane label=\"关键字管理\" name=\"keywords\">\n        <el-form :inline=\"true\" style=\"margin-bottom: 20px\">\n          <el-form-item label=\"关键字\">\n            <el-input v-model=\"newKeyword\" placeholder=\"输入关键字\" style=\"width: 200px\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"addKeyword\">添加</el-button>\n          </el-form-item>\n        </el-form>\n        <el-table :data=\"keywords\" border>\n          <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n          <el-table-column prop=\"keyword\" label=\"关键字\" />\n          <el-table-column label=\"操作\" width=\"120\">\n            <template #default=\"scope\">\n              <el-button size=\"small\" type=\"danger\" @click=\"deleteKeyword(scope.row.id)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { getKeywords, createKeyword, deleteKeyword as deleteKeywordApi } from '../api'\n\nexport default {\n  name: 'Keywords',\n  setup() {\n    const keywords = ref([])\n    const newKeyword = ref('')\n    const activeTab = ref('keywords')\n\n    const loadKeywords = async () => {\n      try {\n        const res = await getKeywords()\n        keywords.value = res.data\n      } catch (error) {\n        console.error('加载失败:', error)\n        const message = error.response?.data?.error || error.message || '加载失败'\n        ElMessage.error(message)\n      }\n    }\n\n    const addKeyword = async () => {\n      if (!newKeyword.value.trim()) {\n        ElMessage.warning('请输入关键字')\n        return\n      }\n      try {\n        await createKeyword({ keyword: newKeyword.value })\n        ElMessage.success('添加成功')\n        newKeyword.value = ''\n        loadKeywords()\n      } catch (error) {\n        ElMessage.error('添加失败')\n      }\n    }\n\n    const deleteKeyword = async (id) => {\n      try {\n        await deleteKeywordApi(id)\n        ElMessage.success('删除成功')\n        loadKeywords()\n      } catch (error) {\n        ElMessage.error('删除失败')\n      }\n    }\n\n    onMounted(() => {\n      loadKeywords()\n    })\n\n    return {\n      keywords,\n      newKeyword,\n      activeTab,\n      addKeyword,\n      deleteKeyword\n    }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}