{"ast":null,"code":"import _toConsumableArray from \"/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"align-items\": \"center\"\n  }\n};\nvar _hoisted_2 = {\n  style: {\n    \"display\": \"flex\",\n    \"gap\": \"10px\"\n  }\n};\nvar _hoisted_3 = [\"href\"];\nvar _hoisted_4 = {\n  style: {\n    \"margin-top\": \"20px\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_option = _resolveComponent(\"el-option\");\n  var _component_el_select = _resolveComponent(\"el-select\");\n  var _component_el_table_column = _resolveComponent(\"el-table-column\");\n  var _component_el_table = _resolveComponent(\"el-table\");\n  var _component_el_pagination = _resolveComponent(\"el-pagination\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_card, null, {\n    header: _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_1, [_cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"采购信息动态\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_input, {\n        modelValue: $setup.searchKeyword,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n          return $setup.searchKeyword = $event;\n        }),\n        placeholder: \"搜索标题或内容\",\n        style: {\n          \"width\": \"300px\"\n        },\n        clearable: \"\",\n        onClear: $setup.handleSearch,\n        onKeyup: _withKeys($setup.handleSearch, [\"enter\"])\n      }, null, 8 /* PROPS */, [\"modelValue\", \"onClear\", \"onKeyup\"]), _createVNode(_component_el_button, {\n        onClick: $setup.handleSearch\n      }, {\n        \"default\": _withCtx(function () {\n          return _toConsumableArray(_cache[4] || (_cache[4] = [_createTextVNode(\"搜索\", -1 /* CACHED */)]));\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_select, {\n        modelValue: $setup.sortOrder,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $setup.sortOrder = $event;\n        }),\n        onChange: $setup.loadAnnouncements,\n        style: {\n          \"width\": \"120px\"\n        }\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_option, {\n            label: \"最新优先\",\n            value: \"desc\"\n          }), _createVNode(_component_el_option, {\n            label: \"最早优先\",\n            value: \"asc\"\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onChange\"])])])];\n    }),\n    \"default\": _withCtx(function () {\n      return [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n        data: $setup.announcements,\n        border: \"\",\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_table_column, {\n            prop: \"id\",\n            label: \"ID\",\n            width: \"80\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"title\",\n            label: \"标题\",\n            \"min-width\": \"300\"\n          }, {\n            \"default\": _withCtx(function (scope) {\n              return [_createElementVNode(\"a\", {\n                href: scope.row.url,\n                target: \"_blank\",\n                style: {\n                  \"color\": \"#409eff\",\n                  \"text-decoration\": \"none\"\n                }\n              }, _toDisplayString(scope.row.title), 9 /* TEXT, PROPS */, _hoisted_3)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_table_column, {\n            prop: \"web_page_name\",\n            label: \"来源\",\n            width: \"150\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"publish_date\",\n            label: \"发布时间\",\n            width: \"120\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"created_at\",\n            label: \"同步时间\",\n            width: \"180\"\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_pagination, {\n        \"current-page\": $setup.currentPage,\n        \"onUpdate:currentPage\": _cache[2] || (_cache[2] = function ($event) {\n          return $setup.currentPage = $event;\n        }),\n        \"page-size\": $setup.pageSize,\n        \"onUpdate:pageSize\": _cache[3] || (_cache[3] = function ($event) {\n          return $setup.pageSize = $event;\n        }),\n        total: $setup.total,\n        \"page-sizes\": [10, 20, 50, 100],\n        layout: \"total, sizes, prev, pager, next, jumper\",\n        onSizeChange: $setup.handleSizeChange,\n        onCurrentChange: $setup.handlePageChange\n      }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\", \"onSizeChange\", \"onCurrentChange\"])])];\n    }),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["style","_createElementBlock","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_1","_hoisted_2","_component_el_input","$setup","searchKeyword","$event","placeholder","clearable","onClear","handleSearch","onKeyup","_withKeys","_component_el_button","onClick","_toConsumableArray","_cache","_component_el_select","sortOrder","onChange","loadAnnouncements","_component_el_option","label","value","_createBlock","_component_el_table","data","announcements","border","_component_el_table_column","prop","width","scope","href","row","url","target","title","_hoisted_3","loading","_hoisted_4","_component_el_pagination","currentPage","pageSize","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handlePageChange"],"sources":["/Users/blackwood/work/src/github.com/ieasydevops/demo/frontend/src/views/Announcements.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card>\n      <template #header>\n        <div style=\"display: flex; justify-content: space-between; align-items: center\">\n          <span>采购信息动态</span>\n          <div style=\"display: flex; gap: 10px\">\n            <el-input\n              v-model=\"searchKeyword\"\n              placeholder=\"搜索标题或内容\"\n              style=\"width: 300px\"\n              clearable\n              @clear=\"handleSearch\"\n              @keyup.enter=\"handleSearch\"\n            />\n            <el-button @click=\"handleSearch\">搜索</el-button>\n            <el-select v-model=\"sortOrder\" @change=\"loadAnnouncements\" style=\"width: 120px\">\n              <el-option label=\"最新优先\" value=\"desc\" />\n              <el-option label=\"最早优先\" value=\"asc\" />\n            </el-select>\n          </div>\n        </div>\n      </template>\n\n      <el-table :data=\"announcements\" border v-loading=\"loading\" style=\"width: 100%\">\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"title\" label=\"标题\" min-width=\"300\">\n          <template #default=\"scope\">\n            <a :href=\"scope.row.url\" target=\"_blank\" style=\"color: #409eff; text-decoration: none\">\n              {{ scope.row.title }}\n            </a>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"web_page_name\" label=\"来源\" width=\"150\" />\n        <el-table-column prop=\"publish_date\" label=\"发布时间\" width=\"120\" />\n        <el-table-column prop=\"created_at\" label=\"同步时间\" width=\"180\" />\n      </el-table>\n\n      <div style=\"margin-top: 20px; display: flex; justify-content: center\">\n        <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :total=\"total\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handlePageChange\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { getAnnouncements } from '../api'\n\nexport default {\n  name: 'Announcements',\n  setup() {\n    const announcements = ref([])\n    const loading = ref(false)\n    const searchKeyword = ref('')\n    const sortOrder = ref('desc')\n    const currentPage = ref(1)\n    const pageSize = ref(20)\n    const total = ref(0)\n\n    const loadAnnouncements = async () => {\n      loading.value = true\n      try {\n        const res = await getAnnouncements({\n          keyword: searchKeyword.value,\n          order: sortOrder.value,\n          page: currentPage.value,\n          pageSize: pageSize.value\n        })\n        announcements.value = res.data.data || []\n        total.value = res.data.total || 0\n      } catch (error) {\n        console.error('加载失败:', error)\n        ElMessage.error('加载失败')\n      } finally {\n        loading.value = false\n      }\n    }\n\n    const handleSearch = () => {\n      currentPage.value = 1\n      loadAnnouncements()\n    }\n\n    const handleSizeChange = () => {\n      currentPage.value = 1\n      loadAnnouncements()\n    }\n\n    const handlePageChange = () => {\n      loadAnnouncements()\n    }\n\n    onMounted(() => {\n      loadAnnouncements()\n    })\n\n    return {\n      announcements,\n      loading,\n      searchKeyword,\n      sortOrder,\n      currentPage,\n      pageSize,\n      total,\n      loadAnnouncements,\n      handleSearch,\n      handleSizeChange,\n      handlePageChange\n    }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}